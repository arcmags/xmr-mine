--- monero/src/cryptonote_basic/miner.cpp
+++ monero/src/cryptonote_basic/miner.cpp
@@ -637,7 +637,7 @@
         boost::tribool battery_powered(on_battery_power());
         if(!indeterminate( battery_powered ))
         {
-          on_ac_power = !battery_powered;
+          on_ac_power = !(bool)battery_powered;
         }
       }
